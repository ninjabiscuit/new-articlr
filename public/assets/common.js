(function(){var u=this;var r=u._;var b={};var i=Array.prototype,B=Object.prototype,D=Function.prototype;var s=i.slice,w=i.unshift,v=B.toString,o=B.hasOwnProperty;var m=i.forEach,h=i.map,z=i.reduce,e=i.reduceRight,l=i.filter,a=i.every,y=i.some,t=i.indexOf,f=i.lastIndexOf,c=Array.isArray,A=Object.keys,j=D.bind;var C=function(E){return new g(E)};if(typeof module!=="undefined"&&module.exports){module.exports=C;C._=C}else{u._=C}C.VERSION="1.1.5";var d=C.each=C.forEach=function(J,I,H){if(J==null){return}if(m&&J.forEach===m){J.forEach(I,H)}else{if(C.isNumber(J.length)){for(var G=0,E=J.length;G<E;G++){if(I.call(H,J[G],G,J)===b){return}}}else{for(var F in J){if(o.call(J,F)){if(I.call(H,J[F],F,J)===b){return}}}}}};C.map=function(H,G,F){var E=[];if(H==null){return E}if(h&&H.map===h){return H.map(G,F)}d(H,function(K,I,J){E[E.length]=G.call(F,K,I,J)});return E};C.reduce=C.foldl=C.inject=function(I,H,E,G){var F=E!==void 0;if(I==null){I=[]}if(z&&I.reduce===z){if(G){H=C.bind(H,G)}return F?I.reduce(H,E):I.reduce(H)}d(I,function(L,J,K){if(!F&&J===0){E=L;F=true}else{E=H.call(G,E,L,J,K)}});if(!F){throw new TypeError("Reduce of empty array with no initial value")}return E};C.reduceRight=C.foldr=function(H,G,E,F){if(H==null){H=[]}if(e&&H.reduceRight===e){if(F){G=C.bind(G,F)}return E!==void 0?H.reduceRight(G,E):H.reduceRight(G)}var I=(C.isArray(H)?H.slice():C.toArray(H)).reverse();return C.reduce(I,G,E,F)};C.find=C.detect=function(H,G,F){var E;p(H,function(K,I,J){if(G.call(F,K,I,J)){E=K;return true}});return E};C.filter=C.select=function(H,G,F){var E=[];if(H==null){return E}if(l&&H.filter===l){return H.filter(G,F)}d(H,function(K,I,J){if(G.call(F,K,I,J)){E[E.length]=K}});return E};C.reject=function(H,G,F){var E=[];if(H==null){return E}d(H,function(K,I,J){if(!G.call(F,K,I,J)){E[E.length]=K}});return E};C.every=C.all=function(H,G,F){G=G||C.identity;var E=true;if(H==null){return E}if(a&&H.every===a){return H.every(G,F)}d(H,function(K,I,J){if(!(E=E&&G.call(F,K,I,J))){return b}});return E};var p=C.some=C.any=function(H,G,F){G=G||C.identity;var E=false;if(H==null){return E}if(y&&H.some===y){return H.some(G,F)}d(H,function(K,I,J){if(E=G.call(F,K,I,J)){return b}});return E};C.include=C.contains=function(G,F){var E=false;if(G==null){return E}if(t&&G.indexOf===t){return G.indexOf(F)!=-1}p(G,function(H){if(E=H===F){return true}});return E};C.invoke=function(F,G){var E=s.call(arguments,2);return C.map(F,function(H){return(G?H[G]:H).apply(H,E)})};C.pluck=function(F,E){return C.map(F,function(G){return G[E]})};C.max=function(H,G,F){if(!G&&C.isArray(H)){return Math.max.apply(Math,H)}var E={computed:-Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J>=E.computed&&(E={value:L,computed:J})});return E.value};C.min=function(H,G,F){if(!G&&C.isArray(H)){return Math.min.apply(Math,H)}var E={computed:Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J<E.computed&&(E={value:L,computed:J})});return E.value};C.sortBy=function(G,F,E){return C.pluck(C.map(G,function(J,H,I){return{value:J,criteria:F.call(E,J,H,I)}}).sort(function(K,J){var I=K.criteria,H=J.criteria;return I<H?-1:I>H?1:0}),"value")};C.sortedIndex=function(J,I,G){G=G||C.identity;var E=0,H=J.length;while(E<H){var F=(E+H)>>1;G(J[F])<G(I)?E=F+1:H=F}return E};C.toArray=function(E){if(!E){return[]}if(E.toArray){return E.toArray()}if(C.isArray(E)){return E}if(C.isArguments(E)){return s.call(E)}return C.values(E)};C.size=function(E){return C.toArray(E).length};C.first=C.head=function(G,F,E){return(F!=null)&&!E?s.call(G,0,F):G[0]};C.rest=C.tail=function(G,E,F){return s.call(G,(E==null)||F?1:E)};C.last=function(E){return E[E.length-1]};C.compact=function(E){return C.filter(E,function(F){return !!F})};C.flatten=function(E){return C.reduce(E,function(F,G){if(C.isArray(G)){return F.concat(C.flatten(G))}F[F.length]=G;return F},[])};C.without=function(F){var E=s.call(arguments,1);return C.filter(F,function(G){return !C.include(E,G)})};C.uniq=C.unique=function(F,E){return C.reduce(F,function(G,I,H){if(0==H||(E===true?C.last(G)!=I:!C.include(G,I))){G[G.length]=I}return G},[])};C.intersect=function(F){var E=s.call(arguments,1);return C.filter(C.uniq(F),function(G){return C.every(E,function(H){return C.indexOf(H,G)>=0})})};C.zip=function(){var E=s.call(arguments);var H=C.max(C.pluck(E,"length"));var G=new Array(H);for(var F=0;F<H;F++){G[F]=C.pluck(E,""+F)}return G};C.indexOf=function(I,G,H){if(I==null){return -1}var F,E;if(H){F=C.sortedIndex(I,G);return I[F]===G?F:-1}if(t&&I.indexOf===t){return I.indexOf(G)}for(F=0,E=I.length;F<E;F++){if(I[F]===G){return F}}return -1};C.lastIndexOf=function(G,F){if(G==null){return -1}if(f&&G.lastIndexOf===f){return G.lastIndexOf(F)}var E=G.length;while(E--){if(G[E]===F){return E}}return -1};C.range=function(J,H,I){if(arguments.length<=1){H=J||0;J=0}I=arguments[2]||1;var F=Math.max(Math.ceil((H-J)/I),0);var E=0;var G=new Array(F);while(E<F){G[E++]=J;J+=I}return G};C.bind=function(F,G){if(j&&F.bind===j){return F.bind.apply(F,s.call(arguments,1))}var E=s.call(arguments,2);return function(){return F.apply(G,E.concat(s.call(arguments)))}};C.bindAll=function(F){var E=s.call(arguments,1);if(E.length==0){E=C.functions(F)}d(E,function(G){F[G]=C.bind(F[G],F)});return F};C.memoize=function(G,F){var E={};F=F||C.identity;return function(){var H=F.apply(this,arguments);return o.call(E,H)?E[H]:(E[H]=G.apply(this,arguments))}};C.delay=function(F,G){var E=s.call(arguments,2);return setTimeout(function(){return F.apply(F,E)},G)};C.defer=function(E){return C.delay.apply(C,[E,1].concat(s.call(arguments,1)))};var x=function(F,H,E){var G;return function(){var J=this,I=arguments;var K=function(){G=null;F.apply(J,I)};if(E){clearTimeout(G)}if(E||!G){G=setTimeout(K,H)}}};C.throttle=function(E,F){return x(E,F,false)};C.debounce=function(E,F){return x(E,F,true)};C.once=function(G){var E=false,F;return function(){if(E){return F}E=true;return F=G.apply(this,arguments)}};C.wrap=function(E,F){return function(){var G=[E].concat(s.call(arguments));return F.apply(this,G)}};C.compose=function(){var E=s.call(arguments);return function(){var F=s.call(arguments);for(var G=E.length-1;G>=0;G--){F=[E[G].apply(this,F)]}return F[0]}};C.keys=A||function(G){if(G!==Object(G)){throw new TypeError("Invalid object")}var F=[];for(var E in G){if(o.call(G,E)){F[F.length]=E}}return F};C.values=function(E){return C.map(E,C.identity)};C.functions=C.methods=function(E){return C.filter(C.keys(E),function(F){return C.isFunction(E[F])}).sort()};C.extend=function(E){d(s.call(arguments,1),function(F){for(var G in F){E[G]=F[G]}});return E};C.defaults=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(E[G]==null){E[G]=F[G]}}});return E};C.clone=function(E){return C.isArray(E)?E.slice():C.extend({},E)};C.tap=function(F,E){E(F);return F};C.isEqual=function(F,E){if(F===E){return true}var I=typeof(F),K=typeof(E);if(I!=K){return false}if(F==E){return true}if((!F&&E)||(F&&!E)){return false}if(F._chain){F=F._wrapped}if(E._chain){E=E._wrapped}if(F.isEqual){return F.isEqual(E)}if(C.isDate(F)&&C.isDate(E)){return F.getTime()===E.getTime()}if(C.isNaN(F)&&C.isNaN(E)){return false}if(C.isRegExp(F)&&C.isRegExp(E)){return F.source===E.source&&F.global===E.global&&F.ignoreCase===E.ignoreCase&&F.multiline===E.multiline}if(I!=="object"){return false}if(F.length&&(F.length!==E.length)){return false}var G=C.keys(F),J=C.keys(E);if(G.length!=J.length){return false}for(var H in F){if(!(H in E)||!C.isEqual(F[H],E[H])){return false}}return true};C.isEmpty=function(F){if(C.isArray(F)||C.isString(F)){return F.length===0}for(var E in F){if(o.call(F,E)){return false}}return true};C.isElement=function(E){return !!(E&&E.nodeType==1)};C.isArray=c||function(E){return v.call(E)==="[object Array]"};C.isArguments=function(E){return !!(E&&o.call(E,"callee"))};C.isFunction=function(E){return !!(E&&E.constructor&&E.call&&E.apply)};C.isString=function(E){return !!(E===""||(E&&E.charCodeAt&&E.substr))};C.isNumber=function(E){return !!(E===0||(E&&E.toExponential&&E.toFixed))};C.isNaN=function(E){return E!==E};C.isBoolean=function(E){return E===true||E===false};C.isDate=function(E){return !!(E&&E.getTimezoneOffset&&E.setUTCFullYear)};C.isRegExp=function(E){return !!(E&&E.test&&E.exec&&(E.ignoreCase||E.ignoreCase===false))};C.isNull=function(E){return E===null};C.isUndefined=function(E){return E===void 0};C.noConflict=function(){u._=r;return this};C.identity=function(E){return E};C.times=function(H,G,F){for(var E=0;E<H;E++){G.call(F,E)}};C.mixin=function(E){d(C.functions(E),function(F){q(F,C[F]=E[F])})};var k=0;C.uniqueId=function(E){var F=k++;return E?E+F:F};C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};C.template=function(H,G){var I=C.templateSettings;var E="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+H.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(I.interpolate,function(J,K){return"',"+K.replace(/\\'/g,"'")+",'"}).replace(I.evaluate||null,function(J,K){return"');"+K.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var F=new Function("obj",E);return G?F(G):F};var g=function(E){this._wrapped=E};C.prototype=g.prototype;var n=function(F,E){return E?C(F).chain():F};var q=function(E,F){g.prototype[E]=function(){var G=s.call(arguments);w.call(G,this._wrapped);return n(F.apply(C,G),this._chain)}};C.mixin(C);d(["pop","push","reverse","shift","sort","splice","unshift"],function(E){var F=i[E];g.prototype[E]=function(){F.apply(this._wrapped,arguments);return n(this._wrapped,this._chain)}});d(["concat","join","slice"],function(E){var F=i[E];g.prototype[E]=function(){return n(F.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped}})();(function(){var k;if(typeof exports!=="undefined"){k=exports}else{k=this.Backbone={}}k.VERSION="0.3.3";var m=this._;if(!m&&(typeof require!=="undefined")){m=require("underscore")._}var e=this.jQuery||this.Zepto;k.emulateHTTP=false;k.emulateJSON=false;k.Events={bind:function(r,t){var q=this._callbacks||(this._callbacks={});var s=this._callbacks[r]||(this._callbacks[r]=[]);s.push(t);return this},unbind:function(t,v){var s;if(!t){this._callbacks={}}else{if(s=this._callbacks){if(!v){s[t]=[]}else{var u=s[t];if(!u){return this}for(var r=0,q=u.length;r<q;r++){if(v===u[r]){u.splice(r,1);break}}}}}return this},trigger:function(t){var u,s,r,q;if(!(s=this._callbacks)){return this}if(u=s[t]){for(r=0,q=u.length;r<q;r++){u[r].apply(this,Array.prototype.slice.call(arguments,1))}}if(u=s.all){for(r=0,q=u.length;r<q;r++){u[r].apply(this,arguments)}}return this}};k.Model=function(q,r){q||(q={});if(this.defaults){q=m.extend({},this.defaults,q)}this.attributes={};this._escapedAttributes={};this.cid=m.uniqueId("c");this.set(q,{silent:true});this._previousAttributes=m.clone(this.attributes);if(r&&r.collection){this.collection=r.collection}this.initialize(q,r)};m.extend(k.Model.prototype,k.Events,{_previousAttributes:null,_changed:false,initialize:function(){},toJSON:function(){return m.clone(this.attributes)},get:function(q){return this.attributes[q]},escape:function(q){var r;if(r=this._escapedAttributes[q]){return r}var s=this.attributes[q];return this._escapedAttributes[q]=o(s==null?"":s)},set:function(t,s){s||(s={});if(!t){return this}if(t.attributes){t=t.attributes}var r=this.attributes,u=this._escapedAttributes;if(!s.silent&&this.validate&&!this._performValidation(t,s)){return false}if("id" in t){this.id=t.id}for(var q in t){var v=t[q];if(!m.isEqual(r[q],v)){r[q]=v;delete u[q];if(!s.silent){this._changed=true;this.trigger("change:"+q,this,v,s)}}}if(!s.silent&&this._changed){this.change(s)}return this},unset:function(q,r){r||(r={});var t=this.attributes[q];var s={};s[q]=void 0;if(!r.silent&&this.validate&&!this._performValidation(s,r)){return false}delete this.attributes[q];delete this._escapedAttributes[q];if(!r.silent){this._changed=true;this.trigger("change:"+q,this,void 0,r);this.change(r)}return this},clear:function(r){r||(r={});var q=this.attributes;var s={};for(attr in q){s[attr]=void 0}if(!r.silent&&this.validate&&!this._performValidation(s,r)){return false}this.attributes={};this._escapedAttributes={};if(!r.silent){this._changed=true;for(attr in q){this.trigger("change:"+attr,this,void 0,r)}this.change(r)}return this},fetch:function(s){s||(s={});var r=this;var t=function(u){if(!r.set(r.parse(u),s)){return false}if(s.success){s.success(r,u)}};var q=d(s.error,r,s);(this.sync||k.sync)("read",this,t,q);return this},save:function(t,s){s||(s={});if(t&&!this.set(t,s)){return false}var r=this;var u=function(w){if(!r.set(r.parse(w),s)){return false}if(s.success){s.success(r,w)}};var q=d(s.error,r,s);var v=this.isNew()?"create":"update";(this.sync||k.sync)(v,this,u,q);return this},destroy:function(s){s||(s={});var r=this;var t=function(u){if(r.collection){r.collection.remove(r)}if(s.success){s.success(r,u)}};var q=d(s.error,r,s);(this.sync||k.sync)("delete",this,t,q);return this},url:function(){var q=h(this.collection);if(this.isNew()){return q}return q+(q.charAt(q.length-1)=="/"?"":"/")+this.id},parse:function(q){return q},clone:function(){return new this.constructor(this)},isNew:function(){return !this.id},change:function(q){this.trigger("change",this,q);this._previousAttributes=m.clone(this.attributes);this._changed=false},hasChanged:function(q){if(q){return this._previousAttributes[q]!=this.attributes[q]}return this._changed},changedAttributes:function(s){s||(s=this.attributes);var r=this._previousAttributes;var t=false;for(var q in s){if(!m.isEqual(r[q],s[q])){t=t||{};t[q]=s[q]}}return t},previous:function(q){if(!q||!this._previousAttributes){return null}return this._previousAttributes[q]},previousAttributes:function(){return m.clone(this._previousAttributes)},_performValidation:function(s,r){var q=this.validate(s);if(q){if(r.error){r.error(this,q)}else{this.trigger("error",this,q,r)}return false}return true}});k.Collection=function(r,q){q||(q={});if(q.comparator){this.comparator=q.comparator;delete q.comparator}this._boundOnModelEvent=m.bind(this._onModelEvent,this);this._reset();if(r){this.refresh(r,{silent:true})}this.initialize(r,q)};m.extend(k.Collection.prototype,k.Events,{model:k.Model,initialize:function(){},toJSON:function(){return this.map(function(q){return q.toJSON()})},add:function(t,r){if(m.isArray(t)){for(var s=0,q=t.length;s<q;s++){this._add(t[s],r)}}else{this._add(t,r)}return this},remove:function(t,r){if(m.isArray(t)){for(var s=0,q=t.length;s<q;s++){this._remove(t[s],r)}}else{this._remove(t,r)}return this},get:function(q){if(q==null){return null}return this._byId[q.id!=null?q.id:q]},getByCid:function(q){return q&&this._byCid[q.cid||q]},at:function(q){return this.models[q]},sort:function(q){q||(q={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);if(!q.silent){this.trigger("refresh",this,q)}return this},pluck:function(q){return m.map(this.models,function(r){return r.get(q)})},refresh:function(r,q){r||(r=[]);q||(q={});this._reset();this.add(r,{silent:true});if(!q.silent){this.trigger("refresh",this,q)}return this},fetch:function(r){r||(r={});var t=this;var s=function(u){t.refresh(t.parse(u));if(r.success){r.success(t,u)}};var q=d(r.error,t,r);(this.sync||k.sync)("read",this,s,q);return this},create:function(r,q){var s=this;q||(q={});if(!(r instanceof k.Model)){r=new this.model(r,{collection:s})}else{r.collection=s}var t=function(u,v){s.add(u);if(q.success){q.success(u,v)}};return r.save(null,{success:t,error:q.error})},parse:function(q){return q},chain:function(){return m(this.models).chain()},_reset:function(q){this.length=0;this.models=[];this._byId={};this._byCid={}},_add:function(s,r){r||(r={});if(!(s instanceof k.Model)){s=new this.model(s,{collection:this})}var t=this.getByCid(s);if(t){throw new Error(["Can't add the same model to a set twice",t.id])}this._byId[s.id]=s;this._byCid[s.cid]=s;s.collection=this;var q=this.comparator?this.sortedIndex(s,this.comparator):this.length;this.models.splice(q,0,s);s.bind("all",this._boundOnModelEvent);this.length++;if(!r.silent){s.trigger("add",s,this,r)}return s},_remove:function(r,q){q||(q={});r=this.getByCid(r)||this.get(r);if(!r){return null}delete this._byId[r.id];delete this._byCid[r.cid];delete r.collection;this.models.splice(this.indexOf(r),1);this.length--;if(!q.silent){r.trigger("remove",r,this,q)}r.unbind("all",this._boundOnModelEvent);return r},_onModelEvent:function(r,q){if(r==="change:id"){delete this._byId[q.previous("id")];this._byId[q.id]=q}this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"];m.each(c,function(q){k.Collection.prototype[q]=function(){return m[q].apply(m,[this.models].concat(m.toArray(arguments)))}});k.Controller=function(q){q||(q={});if(q.routes){this.routes=q.routes}this._bindRoutes();this.initialize(q)};var p=/:([\w\d]+)/g;var f=/\*([\w\d]+)/g;m.extend(k.Controller.prototype,k.Events,{initialize:function(){},route:function(q,r,s){k.history||(k.history=new k.History);if(!m.isRegExp(q)){q=this._routeToRegExp(q)}k.history.route(q,m.bind(function(u){var t=this._extractParameters(q,u);s.apply(this,t);this.trigger.apply(this,["route:"+r].concat(t))},this))},saveLocation:function(q){k.history.saveLocation(q)},_bindRoutes:function(){if(!this.routes){return}for(var q in this.routes){var r=this.routes[q];this.route(q,r,this[r])}},_routeToRegExp:function(q){q=q.replace(p,"([^/]*)").replace(f,"(.*?)");return new RegExp("^"+q+"$")},_extractParameters:function(q,r){return q.exec(r).slice(1)}});k.History=function(){this.handlers=[];this.fragment=this.getFragment();m.bindAll(this,"checkUrl")};var l=/^#*/;m.extend(k.History.prototype,{interval:50,getFragment:function(q){return(q||window.location).hash.replace(l,"")},start:function(){var q=document.documentMode;var r=(e.browser.msie&&(!q||q<=7));if(r){this.iframe=e('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow}if("onhashchange" in window&&!r){e(window).bind("hashchange",this.checkUrl)}else{setInterval(this.checkUrl,this.interval)}return this.loadUrl()},route:function(q,r){this.handlers.push({route:q,callback:r})},checkUrl:function(){var q=this.getFragment();if(q==this.fragment&&this.iframe){q=this.getFragment(this.iframe.location)}if(q==this.fragment||q==decodeURIComponent(this.fragment)){return false}if(this.iframe){window.location.hash=this.iframe.location.hash=q}this.loadUrl()},loadUrl:function(){var r=this.fragment=this.getFragment();var q=m.any(this.handlers,function(s){if(s.route.test(r)){s.callback(r);return true}});return q},saveLocation:function(q){q=(q||"").replace(l,"");if(this.fragment==q){return}window.location.hash=this.fragment=q;if(this.iframe&&(q!=this.getFragment(this.iframe.location))){this.iframe.document.open().close();this.iframe.location.hash=q}}});k.View=function(q){this._configure(q||{});this._ensureElement();this.delegateEvents();this.initialize(q)};var a=function(q){return e(q,this.el)};var n=/^(\w+)\s*(.*)$/;m.extend(k.View.prototype,k.Events,{tagName:"div",$:a,initialize:function(){},render:function(){return this},remove:function(){e(this.el).remove();return this},make:function(r,q,t){var s=document.createElement(r);if(q){e(s).attr(q)}if(t){e(s).html(t)}return s},delegateEvents:function(v){if(!(v||(v=this.events))){return}e(this.el).unbind();for(var u in v){var s=v[u];var t=u.match(n);var r=t[1],q=t[2];var w=m.bind(this[s],this);if(q===""){e(this.el).bind(r,w)}else{e(this.el).delegate(q,r,w)}}},_configure:function(q){if(this.options){q=m.extend({},this.options,q)}if(q.model){this.model=q.model}if(q.collection){this.collection=q.collection}if(q.el){this.el=q.el}if(q.id){this.id=q.id}if(q.className){this.className=q.className}if(q.tagName){this.tagName=q.tagName}this.options=q},_ensureElement:function(){if(this.el){return}var q={};if(this.id){q.id=this.id}if(this.className){q["class"]=this.className}this.el=this.make(this.tagName,q)}});var g=function(q,r){var s=i(this,q,r);s.extend=g;return s};k.Model.extend=k.Collection.extend=k.Controller.extend=k.View.extend=g;var b={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};k.sync=function(w,r,u,q){var s=b[w];var v=(w==="create"||w==="update")?JSON.stringify(r.toJSON()):null;var t={url:h(r),type:s,contentType:"application/json",data:v,dataType:"json",processData:false,success:u,error:q};if(k.emulateJSON){t.contentType="application/x-www-form-urlencoded";t.processData=true;t.data=v?{model:v}:{}}if(k.emulateHTTP){if(s==="PUT"||s==="DELETE"){if(k.emulateJSON){t.data._method=s}t.type="POST";t.beforeSend=function(x){x.setRequestHeader("X-HTTP-Method-Override",s)}}}e.ajax(t)};var j=function(){};var i=function(r,q,s){var t;if(q&&q.hasOwnProperty("constructor")){t=q.constructor}else{t=function(){return r.apply(this,arguments)}}j.prototype=r.prototype;t.prototype=new j();if(q){m.extend(t.prototype,q)}if(s){m.extend(t,s)}t.prototype.constructor=t;t.__super__=r.prototype;return t};var h=function(q){if(!(q&&q.url)){throw new Error("A 'url' property or function must be specified")}return m.isFunction(q.url)?q.url():q.url};var d=function(s,r,q){return function(t){if(s){s(r,t)}else{r.trigger("error",r,t,q)}}};var o=function(q){return q.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})();function S4(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}function guid(){return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4())}window.Store=function(b){this.name=b;var a=localStorage.getItem(this.name);this.records=(a&&a.split(","))||[]};_.extend(Store.prototype,{save:function(){localStorage.setItem(this.name,this.records.join(","))},create:function(a){if(!a.id){a.id=a.attributes.id=guid()}localStorage.setItem(this.name+"-"+a.id,JSON.stringify(a));this.records.push(a.id.toString());this.save();return a},update:function(a){localStorage.setItem(this.name+"-"+a.id,JSON.stringify(a));if(!_.include(this.records,a.id.toString())){this.records.push(a.id.toString())}this.save();return a},find:function(a){return JSON.parse(localStorage.getItem(this.name+"-"+a.id))},findAll:function(){return _.map(this.records,function(a){return JSON.parse(localStorage.getItem(this.name+"-"+a))},this)},destroy:function(a){localStorage.removeItem(this.name+"-"+a.id);this.records=_.reject(this.records,function(b){return b==a.id.toString()});this.save();return a}});Backbone.sync=function(e,c,b){var d;var a=c.localStorage||c.collection.localStorage;switch(e){case"read":d=c.id?a.find(c):a.findAll();break;case"create":d=a.create(c);break;case"update":d=a.update(c);break;case"delete":d=a.destroy(c);break}if(d){b.success(d)}else{b.error("Record not found")}};window.log=function(){log.history=log.history||[];log.history.push(arguments);arguments.callee=arguments.callee.caller;if(this.console){console.log(Array.prototype.slice.call(arguments))}};(function(e){function h(){}for(var g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),f;f=g.pop();){e[f]=e[f]||h}})(window.console=window.console||{});GENTICS.Aloha.settings={logLevels:{error:true,warn:true,info:true,debug:true},errorhandling:false,ribbon:true,i18n:{current:"en"},plugins:{"com.gentics.aloha.plugins.Link":{targetregex:"^(?!.*aloha-editor.com).*",target:"_blank",cssclassregex:"^(?!.*aloha-editor.com).*",cssclass:"external"},"com.gentics.aloha.plugins.Table":{config:["table"]}}};$("#content").aloha();var ARTICLR=(function(b,c){var a=Backbone.Model.extend({initialize:function(){},})})(dojo);